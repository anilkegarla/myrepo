pipeline {
    
	agent any
  


    tools {
        maven  "maven"
    }

    stages {
	
        stage('code clone') {
            steps {
               git branch: 'main', credentialsId: 'Git', url: 'https://github.com/anilkegarla/myrepo.git'
            }
			}

       
	    stage('clean') {
            steps {
              sh 'mvn test'  
            }
			}
       
        stage('deploy') {
		
            steps {
              sh 'mvn deploy'
		    } 
            }		    		
    }
}	 